'use strict';mix_d("FirebirdSpCards__sp-rhf-desktop-carousel:sp-rhf-desktop-carousel__qjRGy2B5","exports tslib @c/aui-carousel @c/dom @c/remote-operations @c/scoped-dom @p/A @p/a-carousel-framework @c/metrics @c/aui-utils @c/browser-operations @c/aui-modal @c/aui-untrusted-ajax".split(" "),function(H,r,N,I,O,P,Q,R,w,S,T,U,V){function y(b){return b&&"object"===typeof b&&"default"in b?b:{"default":b}}var W=y(N),z=y(I),X=y(O),A=y(P),x=y(Q),Y=y(R),J=y(T),Z=y(U),aa=y(V),K={},F=function(b,a,e){void 0===
a&&(a="");void 0===e&&(e=1);a=b+a;K.hasOwnProperty(a)||(K[a]=!0,w.count(b,(w.count(b)||0)+e))},ba=function(b){F(x["default"].capabilities.mobile?"Card:EERU:SharedLib:mobile:render":"Card:EERU:SharedLib:desktop:render");var a=function(c,d){c={$event:{preventDefault:x["default"].$.noop,stopPropagation:x["default"].$.noop},$target:c.getContent().find('[data-a-tab-name="'+d+'"]'),data:{name:"energyEfficiencyTabSet"}};x["default"].trigger("a:declarative:a-tabs:click",c)},e=function(c,d){var f=c&&c.$event,
g=c&&c.data||{},k=g.activeTabName,m=g.modalHeight,t=g.name;f&&f.preventDefault&&f.preventDefault();f&&f.stopPropagation&&f.stopPropagation();f=d.get(t);f||(x["default"].on("a:popover:beforeShow:"+t,function(n){n.popover&&n.popover.getContent&&(n=n.popover.getContent(),n.find(".a-manually-loaded").parent().css("min-height",m),x["default"].loadDescendantImagesManually(n))}),f=d.create(c.$target,g));f.show();a(f,k)};b.when("a-secondary-view").execute("RegisterEnergyEfficiencyEventMobile",function(c){x["default"].declarative("card-energy-efficiency-secondary-view",
"click",function(d){F("Card:EERU:SharedLib:mobile:click",d&&d.data&&d.data.name||"");e(d,c)})});b.when("a-modal").execute("RegisterEnergyEfficiencyEventDesktop",function(c){x["default"].declarative("card-energy-efficiency-modal","click",function(d){F("Card:EERU:SharedLib:desktop:click",d&&d.data&&d.data.name||"");e(d,c)})})},ca=function(b){b.when("ready").execute("EEBadgeProductFicheResize",function(a){var e=x["default"].$;e(".energyEfficiencyContainer").each(function(c,d){c=e(d).find(".energyEfficiencyProductFicheLabel").first();
d=e(d).find("svg").first();c.parent().outerHeight()>d.outerHeight()&&(c.removeClass("a-size-small"),c.addClass("a-size-micro"),c.parent().outerHeight()>d.outerHeight()&&c.parent().css("line-height","10px"))})})},da=function(){var b=window.P;ba(b);ca(b)},B=function(b,a){return b.querySelector("[class*="+a+"]")},ea=function(b,a,e){b=JSON.parse(b);b.adCreativeMetaData=a.adCreativeMetaData;b.feedbackFormContainerId=e;return encodeURI(JSON.stringify(b))},fa=function(b,a,e,c){return r.__awaiter(void 0,
void 0,void 0,function(){var d,f,g,k,m,t,n;return r.__generator(this,function(p){d="adFeedbackModal_"+b;p=(null===(n=B(a,"ad-feedback-modal-container"))||void 0===n?void 0:n.className)||"";f="."+a.className+" ."+p.replace(" ",".");k=(g=e().adCreativeMetaData.adCreativeDetails)?g.length:0;m={a11yOpenMessage:"",width:Math.max(560,132*k+160),a11yCloseButtonMessage:c};try{return t=Z["default"].create(d,f,m),[2,t]}catch(l){throw w.count("adfeedback:cards:clientDesktop:modalCreation:failure",1),Error("Modal Creation Failed : "+
l);}})})},ja=function(b,a,e,c,d,f){var g="rtl"===document.getElementsByTagName("html")[0].dir?"ad-feedback-loading-spinnner-rtl":"ad-feedback-loading-spinnner";var k=B(z["default"].cardRoot,g);b.on("beforeShow",function(){return r.__awaiter(void 0,void 0,void 0,function(){var m;return r.__generator(this,function(t){switch(t.label){case 0:return m=ha(b,a,e),[4,b.render(function(n){var p="250px",l=e().adCreativeMetaData.adCreativeDetails;l&&2>l.length&&(p="150px");k.style.marginTop=p;n.innerHTML="";
p=n.appendChild;l=document.getElementsByTagName("html")[0].dir;var h=z["default"].createElement("div"),u=z["default"].createElement("div");h.innerHTML=d;"rtl"===l?(h.setAttribute("style",'box-sizing: border-box; color: rgb(15, 17, 17); font-family: "Amazon Ember", Arial, sans-serif; font-size: 16px; font-weight: 700; line-height: 24px; margin-bottom: 0px; margin-left: 28px; margin-right: 0px; margin-top: 0px; min-height: 56px; padding-bottom: 16px; padding-left: 0px; padding-right: 25px; padding-top: 16px; text-align: right; text-rendering: optimizelegibility; visibility: visible;'),
u.setAttribute("style",'background-attachment: scroll; background-clip: border-box; background-color: rgb(240, 242, 242); background-image: linear-gradient(to left, #EFEFEF 66.72%, #FFFFFF); background-origin: padding-box; background-position: 0% 0%; background-position-x: 0%; background-position-y: 0%; background-repeat: repeat; background-size: auto; border-bottom-color: rgb(213, 217, 217); border-bottom-left-radius: 0px; border-bottom-right-radius: 0px; border-top-left-radius: 8px; border-top-right-radius: 8px; box-sizing: border-box; color: rgb(15, 17, 17); display: block; font-family: "Amazon Ember", Arial, sans-serif; font-size: 14px; line-height: 20px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px; padding-bottom: 0px; padding-left: 24px; padding-right: 24px; padding-top: 0px; position: relative; text-align: right; visibility: visible; z-index: 10;')):
(h.setAttribute("style",'box-sizing: border-box; color: rgb(15, 17, 17); font-family: "Amazon Ember", Arial, sans-serif; font-size: 16px; font-weight: 700; line-height: 24px; margin-bottom: 0px; margin-left: 0px; margin-right: 28px; margin-top: 0px; min-height: 56px; padding-bottom: 16px; padding-left: 25px; padding-right: 0px; padding-top: 16px; text-align: left; text-rendering: optimizelegibility; visibility: visible;'),u.setAttribute("style",'background-attachment: scroll; background-clip: border-box; background-color: rgb(240, 242, 242); background-image: linear-gradient(to right, #EFEFEF 66.72%, #FFFFFF); background-origin: padding-box; background-position: 0% 0%; background-position-x: 0%; background-position-y: 0%; background-repeat: repeat; background-size: auto; border-bottom-color: rgb(213, 217, 217); border-bottom-left-radius: 0px; border-bottom-right-radius: 0px; border-top-left-radius: 8px; border-top-right-radius: 8px; box-sizing: border-box; color: rgb(15, 17, 17); display: block; font-family: "Amazon Ember", Arial, sans-serif; font-size: 14px; line-height: 20px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px; padding-bottom: 0px; padding-left: 24px; padding-right: 24px; padding-top: 0px; position: relative; text-align: left; visibility: visible; z-index: 10;'));
u.appendChild(h);p.call(n,u);p=document.getElementsByTagName("html")[0].dir;l=z["default"].createElement("div");"rtl"===p?l.setAttribute("style","padding-bottom: 16px; padding-right: 50px ; padding-top: 16px; justify-content: center; align-items: center;"):l.setAttribute("style","padding-bottom: 16px; padding-left: 50px ; padding-top: 16px; justify-content: center; align-items: center;");ia(k,l,c,m,f);n.appendChild(l)})];case 1:return t.sent(),[2]}})})})},ha=function(b,a,e){e=e();var c=e.adCreativeMetaData.adCreativeDetails;
null===c||void 0===c?void 0:c.sort(function(d,f){return d.adCreativeIndex<f.adCreativeIndex?-1:1});return ea(a,e,b.id)},ia=function(b,a,e,c,d){a.appendChild(b);"function"==typeof w.uet&&w.uet("bb","adfeedback:cards:clientDesktop:fetchFormContent:time",{wb:1});aa["default"].post("/af/multi-creative/feedback-form",{accepts:"application/json",contentType:"application/json",additionalHeaders:{"Accept-Language":""===e?"en-US":e}},{pl:c,deviceType:"desktop"}).then(function(f){return r.__awaiter(void 0,
void 0,void 0,function(){var g,k,m;return r.__generator(this,function(t){"function"==typeof w.uet&&w.uet("be","adfeedback:cards:clientDesktop:fetchFormContent:time",{wb:1});w.count("adfeedback:cards:clientDesktop:fetchFormContent:success",1);g=z["default"].createElement("div");g.innerHTML=String(f.responseBody);for(k=0;k<g.children.length;++k)m=g.children[k],"SCRIPT"===m.tagName?G("script",m,a):"LINK"===m.tagName?G("link",m,a):G("div",m,a);a.removeChild(b);return[2]})})}).catch(function(){"function"==
typeof w.uet&&w.uet("be","adfeedback:cards:clientDesktop:fetchFormContent:time",{wb:1});w.count("adfeedback:cards:clientDesktop:fetchFormContent:failure",1);a.innerHTML=d});"function"==typeof w.uex&&w.uex("ld","adfeedback:cards:clientDesktop:fetchFormContent:time",{wb:1})},G=function(b,a,e){var c=z["default"].createElement(b);c.innerHTML=a.innerHTML;a.getAttributeNames().forEach(function(d){c.setAttribute(d,a.getAttribute(d)||"")});e.appendChild(c)},L={},ka=function(b,a){return r.__awaiter(void 0,
void 0,void 0,function(){var e,c,d,f,g,k,m,t,n,p;return r.__generator(this,function(l){e=B(b,"ad-feedback-primary-link");c=a().adFeedbackLabelId;d=J["default"].setup();f="open-modal"+c;g=a().adCreativeMetaData.adCreativeDetails;k=b.dataset;m=k.isDsaEnabled;t=k.weblabTreatment;n=k.closeButtonAriaText;p=String(m);"undefined"===p&&(p=g&&0<g.length?g[0].selectionSignals?"true":"false":"false");"true"===p&&"T1"!==t&&(p="false");d.attach(f,e);d.define(f,"click",function(){return r.__awaiter(void 0,void 0,
void 0,function(){var h;return r.__generator(this,function(u){switch(u.label){case 0:return(h=L[c])?[3,2]:[4,fa(c,b,a,n)];case 1:h=u.sent();var v=b.dataset,q=v.formHeaderText,D=v.dsaFormHeaderText;ja(h,v.adFeedbackPayload,a,v.currentLocale,"true"===p?D:q,v.formLoadErrorText);L[c]=h;u.label=2;case 2:return h.show(),[2]}})})});try{e.addEventListener("keydown",function(h){if(" "===h.key||"Enter"===h.key)h.preventDefault(),e.click()})}catch(h){console.log("Couldnt add keydown event listner")}return[2]})})},
la=function(b,a){var e=J["default"].setup(),c="mouse-enter"+a;a="mouse-leave"+a;var d=B(b,"ad-feedback-primary-link"),f=B(b,"ad-feedback-text-desktop"),g=B(b,"ad-feedback-sprite");e.attach(c,d);e.define(c,"mouseenter",function(){g.style.backgroundPosition="0px -12px";f.style.color="#111111"});e.attach(a,d);e.define(a,"mouseleave",function(){g.style.backgroundPosition="0px 0px";f.style.color="#555"})},ma=function(b){return r.__awaiter(void 0,void 0,void 0,function(){var a,e,c,d;return r.__generator(this,
function(f){switch(f.label){case 0:return f.trys.push([0,3,,4]),a=b(),e=A["default"].cardRoot.getElementsByClassName("adFeedbackMainComponent_"+a.adFeedbackLabelId)[0],c=e.dataset.isSponsoredLabelActive,"false"===(c||"false").toLowerCase()?[2]:[4,la(e,a.adFeedbackLabelId)];case 1:return f.sent(),[4,ka(e,b)];case 2:return f.sent(),[3,4];case 3:throw d=f.sent(),w.count("adfeedback:cards:clientDesktop:enableAdFeedback:failure",1),Error("Failed to call enableAdFeedback for desktop client : "+d);case 4:return[2]}})})},
M=function(b){if(0>=b)return"00:00";var a=Math.floor(b/36E5);b=[Math.floor(b/6E4%60),Math.floor(b/1E3%60)];0<a&&b.unshift(a);return b.map(na).join(":")},na=function(b){return 9<b?String(b):"0"+b},oa=function(b){Array.prototype.slice.call(b.getElementsByClassName("_sp-rhf-desktop-carousel_badge_badgeContainer__1e9Au")).forEach(function(a){var e,c,d,f,g=32<(null!==(c=null===(e=null===a||void 0===a?void 0:a.getBoundingClientRect())||void 0===e?void 0:e.height)&&void 0!==c?c:0)?"_sp-rhf-desktop-carousel_badge_badgeTwoLineContainer__29ThM":
"_sp-rhf-desktop-carousel_badge_badgeOneLineContainer__YS-on";null===(d=null===a||void 0===a?void 0:a.classList)||void 0===d?void 0:d.remove("_sp-rhf-desktop-carousel_badge_badgeLayoutCheck__3kGne");null===(f=null===a||void 0===a?void 0:a.classList)||void 0===f?void 0:f.add(g)})},qa=function(b){Array.prototype.slice.call(b.getElementsByClassName("badge-countdown-timer")).forEach(function(a){void 0!=a&&void 0!=a.innerHTML&&0==a.innerHTML.length&&(new pa(a)).start()})},pa=function(){function b(a){this.timerElement=
a;this.msToEvent=parseInt(a.dataset.targetTime,10);this.timerElement.innerText=M(this.msToEvent)}b.prototype.start=function(){var a=this;isNaN(this.msToEvent)||(this.counterStartTime=Date.now(),this.counterInterval=S.interval(function(){return a.updateTime()},500))};b.prototype.updateTime=function(){var a=Date.now()-this.counterStartTime;0>=this.msToEvent-a&&clearInterval(this.counterInterval);this.timerElement.innerText=M(this.msToEvent-a)};return b}();H._operationNames=["getCarouselItems"];H.card=
function(b){return r.__awaiter(void 0,void 0,void 0,function(){var a,e,c,d,f,g,k,m,t,n;return r.__generator(this,function(p){switch(p.label){case 0:return da(),a=A["default"].cardRoot.getElementsByClassName("sp-shoveler")[0],e=X["default"].setup(["getCarouselItems"]),c=Y["default"].getCarousel(I.unscope(a)),d=W["default"].getCarousel(a),f=a.dataset||{},g=c.getAttr("name"),k=function(){x["default"].loadDynamicImage("[data-name]='"+g+"' .sp-dynamic-image");null===b||void 0===b?void 0:b(a);oa(A["default"].cardRoot);
qa(A["default"].cardRoot)},[4,d.initialized];case 1:p.sent();x["default"].on("a:carousel:"+g+":change:pageSize",k);x["default"].on("a:carousel:"+g+":change:loading",k);x["default"].on("a:carousel:"+g+":change:animating",k);k();d.attachRemoteOperation(function(l){var h=l.indexes;l=l.ids;return e.getCarouselItems(r.__assign(r.__assign({},f),{ids:l,indexes:h,offset:String(h[0]||0)}))});m=A["default"].cardRoot.getElementsByClassName("dynamicSponsoredLabelClass")[0];if(!m)return[2];t=m.dataset.adFeedbackLabelId;
if(!t)return[2];n=function(){for(var l=A["default"].cardRoot.querySelector("[class*='a-carousel-viewport']").childNodes[0],h=[],u=0;u<l.childNodes.length;++u){var v=l.childNodes[u].querySelector("[id='adfeedbackdetails']");if(v&&(v=v.getAttribute("data-adfeedbackdetails")))try{h.push(JSON.parse(v))}catch(Aa){}}l=t;u=[];for(v=0;v<h.length;++v){var q=h[v],D=u,ra=D.push,sa=q.asinId,ta=q.campaignId,ua=q.encryptedMerchantId,va={amount:q.priceAmount,currencyCode:q.currenyCode},wa=q.title,xa=q.adId,ya=v,
za={lowResolutionImage:{url:q.lowResImage,width:0,height:0},highResolutionImages:[{url:q.highResImage,width:0,height:0}]};var E=q.advertiserId;var C=q.marketplaceId;E=E&&C?"axiom."+C+"."+E:void 0;C=q.isLocationUsed;q=q.isInterestBasedAdsOptOut;q=void 0!==C&&void 0!==q?{version:1,context:!0,location:C,pastActivity:q?0:1}:void 0;ra.call(D,{asin:sa,campaignId:ta,merchantCustomerID:ua,priceInfo:va,title:wa,adId:xa,adCreativeIndex:ya,adCreativeImage:za,advertiserIdNS:E,selectionSignals:q})}h={adCreativeMetaData:{adCreativeDetails:u},
adFeedbackLabelId:l};return h};return[4,ma(n)];case 2:return p.sent(),[2]}})})}});
